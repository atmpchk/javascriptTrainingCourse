{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/views/attraction/Cart.vue?6e4c","webpack:///./src/components/cartRemover.vue?e1d3","webpack:///src/components/cartRemover.vue","webpack:///./src/components/cartRemover.vue?efcc","webpack:///./src/components/cartRemover.vue","webpack:///src/views/attraction/Cart.vue","webpack:///./src/views/attraction/Cart.vue?9ccf","webpack:///./src/views/attraction/Cart.vue","webpack:///./node_modules/core-js/internals/array-reduce.js"],"names":["$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","1","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","isLoading","isFullPageLoading","on","$event","cart","openDeleteCartModal","_v","_m","_l","item","key","product","id","_s","title","directives","name","rawName","value","expression","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","$set","multiple","editItemAmount","n","unit","_f","price","deleteItem","priceSummary","ref","getCart","setLoading","_e","staticRenderFns","deleteCart","data","apiInfo","forEntireCart","methods","$emit","axios","delete","then","console","log","err","hideSelf","modal","component","components","cartRemover","forCart","pagination","computed","mounted","givePage","page","current_page","get","patch","quantity","aFunction","toObject","IndexedObject","toLength","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","index","i","TypeError","module","exports","right"],"mappings":"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","file":"js/chunk-a3d00b82.c2d4b945.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"cart\"}},[_c('loading',{attrs:{\"active\":_vm.isLoading,\"is-full-page\":_vm.isFullPageLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"text-right mt-4\"},[_c('button',{staticClass:\"btn btn-danger\",attrs:{\"disabled\":_vm.cart.length === 0},on:{\"click\":_vm.openDeleteCartModal}},[_vm._v(\" 刪除整份購物清單 \")])]),_c('table',{staticClass:\"table mt-4\"},[_vm._m(0),_c('tbody',[_vm._l((_vm.cart),function(item){return _c('tr',{key:item.product.id},[_c('td',{staticClass:\"text-center align-middle\"},[_vm._v(_vm._s(item.product.title))]),_c('td',{staticClass:\"text-center\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.quantity),expression:\"item.quantity\"}],staticClass:\"form-control\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(item, \"quantity\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.editItemAmount(item)}]}},_vm._l((10),function(n){return _c('option',{key:'amount' + n},[_vm._v(_vm._s(n))])}),0)]),_c('td',{staticClass:\"text-center align-middle\"},[_vm._v(_vm._s(item.product.unit))]),_c('td',{staticClass:\"text-right align-middle\"},[_vm._v(_vm._s(_vm._f(\"formatCurrency\")(item.product.price)))]),_c('td',{staticClass:\"text-center align-middle\"},[_c('button',{staticClass:\"btn btn-outline-danger btn-sm\",on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])}),_c('tr',[_c('td'),_c('td'),_c('td',{staticClass:\"text-right\"},[_vm._v(\"總計\")]),_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"2\"}},[_vm._v(_vm._s(_vm._f(\"formatCurrency\")(_vm.priceSummary)))])])],2)]),_c('cart-remover',{ref:\"cartRemover\",on:{\"refresh-cart\":_vm.getCart,\"set-loading\":_vm.setLoading}}),_c('div',{staticClass:\"row my-4\"},[_c('div',{staticClass:\"col-6\"},[_c('router-link',{attrs:{\"to\":\"/products\"}},[_vm._v(\"◁ 回到產品列表\")])],1),_c('div',{staticClass:\"col-6 text-right\"},[(_vm.cart.length > 0)?_c('router-link',{attrs:{\"to\":\"/checkOut\"}},[_vm._v(\"前往結帳 ▷\")]):_vm._e()],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"text-center\"},[_vm._v(\"產品名稱\")]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"150\"}},[_vm._v(\"數量\")]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"70\"}},[_vm._v(\"單位\")]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"100\"}},[_vm._v(\"售價\")]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"70\"}},[_vm._v(\"刪除\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"cartRemoverModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"cartRemoverModal\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-xl\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content border-0\"},[_vm._m(0),_vm._m(1),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"取消\")]),_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.deleteCart}},[_vm._v(\"確認刪除\")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header bg-danger text-white\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"刪除整份購物清單\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-body\"},[_c('strong',[_vm._v(\"確認要刪除整份購物清單？\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"cartRemoverModal\"\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"cartRemoverModal\"\n    aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-danger text-white\">\n          <h5 class=\"modal-title\">刪除整份購物清單</h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <strong>確認要刪除整份購物清單？</strong>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">取消</button>\n          <button type=\"button\" class=\"btn btn-danger\" @click=\"deleteCart\">確認刪除</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      apiInfo: {\n        forEntireCart: '/ec/shopping/all/product',\n      },\n    };\n  },\n  methods: {\n    deleteCart() {\n      this.$emit('set-loading', true);\n      this.axios.delete(this.apiInfo.forEntireCart).then(() => {\n        this.$emit('refresh-cart');\n        this.hideSelf();\n        this.$router.push('/products');\n      }).catch((err) => {\n        this.$emit('set-loading', false);\n        console.log(err);\n      });\n    },\n    hideSelf() {\n      $('#cartRemoverModal').modal('hide');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cartRemover.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cartRemover.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cartRemover.vue?vue&type=template&id=7bc30ea0&\"\nimport script from \"./cartRemover.vue?vue&type=script&lang=js&\"\nexport * from \"./cartRemover.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"cart\" class=\"container\">\n    <loading :active.sync=\"isLoading\"\n      :is-full-page=\"isFullPageLoading\">\n    </loading>\n    <div class=\"text-right mt-4\">\n      <button class=\"btn btn-danger\" :disabled=\"cart.length === 0\" @click=\"openDeleteCartModal\">\n        刪除整份購物清單\n      </button>\n    </div>\n    <table class=\"table mt-4\">\n      <thead>\n        <tr>\n          <th class=\"text-center\">產品名稱</th>\n          <th width=\"150\" class=\"text-center\">數量</th>\n          <th width=\"70\" class=\"text-center\">單位</th>\n          <th width=\"100\" class=\"text-center\">售價</th>\n          <th width=\"70\" class=\"text-center\">刪除</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in cart\" :key=\"item.product.id\">\n          <td class=\"text-center align-middle\">{{ item.product.title }}</td>\n          <td class=\"text-center\">\n            <select class=\"form-control\" v-model=\"item.quantity\" @change=\"editItemAmount(item)\">\n              <option v-for=\"n in 10\" :key=\"'amount' + n\">{{ n }}</option>\n            </select>\n          </td>\n          <td class=\"text-center align-middle\">{{ item.product.unit }}</td>\n          <td class=\"text-right align-middle\">{{ item.product.price | formatCurrency }}</td>\n          <td class=\"text-center align-middle\">\n            <button class=\"btn btn-outline-danger btn-sm\" @click=\"deleteItem(item)\">\n              <i class=\"far fa-trash-alt\"></i>\n            </button>\n          </td>\n        </tr>\n        <tr>\n          <td></td>\n          <td></td>\n          <td class=\"text-right\">總計</td>\n          <td class=\"text-right\" colspan=\"2\">{{ priceSummary | formatCurrency }}</td>\n        </tr>\n      </tbody>\n    </table>\n    <cart-remover ref=\"cartRemover\"\n      @refresh-cart=\"getCart\"\n      @set-loading=\"setLoading\">\n    </cart-remover>\n    <div class=\"row my-4\">\n      <div class=\"col-6\">\n        <router-link to=\"/products\">&#x25C1; 回到產品列表</router-link>\n      </div>\n      <div class=\"col-6 text-right\">\n        <router-link v-if=\"cart.length > 0\" to=\"/checkOut\">前往結帳 &#x25B7;</router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport cartRemover from '@/components/cartRemover.vue';\n\nexport default {\n  components: {\n    cartRemover,\n  },\n  data() {\n    return {\n      apiInfo: {\n        forCart: '/ec/shopping',\n      },\n      cart: [],\n      isLoading: false,\n      isFullPageLoading: true,\n      pagination: {},\n    };\n  },\n  computed: {\n    priceSummary() {\n      return this.cart.reduce(\n        (accumulated, currItem) => accumulated + (currItem.product.price * currItem.quantity), 0,\n      );\n    },\n  },\n  mounted() {\n    this.getCart();\n  },\n  methods: {\n    givePage(page) {\n      if (page) return page;\n      return this.pagination.current_page || 1;\n    },\n    getCart(page) {\n      this.isLoading = true;\n      this.axios.get(`${this.apiInfo.forCart}?page=${this.givePage(page)}`).then((result) => {\n        this.cart = result.data.data;\n        this.pagination = result.data.meta.pagination;\n        this.isLoading = false;\n      }).catch((err) => {\n        this.isLoading = false;\n        console.log(err);\n      });\n    },\n    editItemAmount(item) {\n      this.isLoading = true;\n      this.axios.patch(this.apiInfo.forCart, {\n        product: item.product.id,\n        quantity: item.quantity,\n      }).then(() => {\n        this.isLoading = false;\n        this.getCart();\n      }).catch((err) => {\n        this.isLoading = false;\n        console.log(err);\n      });\n    },\n    deleteItem(item) {\n      this.isLoading = true;\n      this.axios.delete(`${this.apiInfo.forCart}/${item.product.id}`).then(() => {\n        this.isLoading = false;\n        this.getCart();\n      }).catch((err) => {\n        this.isLoading = false;\n        console.log(err);\n      });\n    },\n    openDeleteCartModal() {\n      $('#cartRemoverModal').modal('show');\n    },\n    setLoading(isLoading) {\n      this.isLoading = isLoading;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=46c3bfc0&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n"],"sourceRoot":""}