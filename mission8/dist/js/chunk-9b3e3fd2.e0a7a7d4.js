(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b3e3fd2"],{"0b17":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container"},[e("loading",{attrs:{active:t.isLoading,"is-full-page":t.isFullPageLoading},on:{"update:active":function(n){t.isLoading=n}}}),e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col-md-7"},[e("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleControls","data-ride":"carousel"}},[e("div",{staticClass:"carousel-inner"},t._l(t.product.imageUrl,(function(t,n){return e("div",{key:"url"+n,staticClass:"carousel-item active",class:{active:0===n}},[e("img",{staticClass:"d-block w-100",attrs:{src:t,alt:"..."}})])})),0),t._m(0),t._m(1)])]),e("div",{staticClass:"col-md-5"},[e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb bg-white px-0 mb-0"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:"/",exact:""}},[t._v("首頁")])],1),e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:"/products"}},[t._v("產品")])],1)])]),e("h2",{staticClass:"font-weight-bold h1 mb-1"},[t._v(t._s(t.product.title))]),t.inCartQuantity>0?e("p",{staticClass:"mb-0 text-muted text-right"},[t._v(" "+t._s("已選購 "+t.inCartQuantity+" "+t.product.unit)+" ")]):t._e(),e("p",{staticClass:"h4 font-weight-bold text-right"},[t._v(t._s(t._f("formatCurrency")(t.product.price)))]),e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"input-group my-3 mr-2 bg-light rounded"},[e("div",{staticClass:"input-group-prepend"},[e("button",{staticClass:"btn btn-outline-dark border-0 py-2",attrs:{type:"button"},on:{click:function(n){1===t.quantity?t.quantity:t.quantity--}}},[e("i",{staticClass:"fas fa-minus"})])]),e("money",t._b({staticClass:"form-control border-0 text-center my-auto shadow-none bg-light",attrs:{readonly:""},model:{value:t.quantity,callback:function(n){t.quantity=n},expression:"quantity"}},"money",t.money,!1)),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-dark border-0 py-2",attrs:{type:"button"},on:{click:function(n){10===t.quantity?t.quantity:t.quantity++}}},[e("i",{staticClass:"fas fa-plus"})])])],1),e("button",{staticClass:"btn btn-dark btn-block py-2",attrs:{type:"button",disabled:t.inCartQuantity>=10},on:{click:t.putToCart}},[t._v(" 加入購物車 ")])])])]),e("div",{staticClass:"row my-5"},[e("div",{staticClass:"col-md-4"},[e("p",[t._v(t._s(t.product.content))])]),e("div",{staticClass:"col-md-3"},[e("p",{staticClass:"text-muted"},[t._v(t._s(t.product.description))])])])],1)},a=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleControls",role:"button","data-slide":"prev"}},[e("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleControls",role:"button","data-slide":"next"}},[e("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"sr-only"},[t._v("Next")])])}],r=(e("99af"),e("716b")),o={components:{Money:r["Money"]},data:function(){return{apiInfo:{forCart:"/ec/shopping",forProduct:"/ec/product"},isLoading:!1,isFullPageLoading:!0,product:{id:""},quantity:1,inCartQuantity:0,money:{decimal:",",thousands:".",prefix:"",suffix:"",precision:0,masked:!1}}},computed:{},created:function(){var t=this;this.product.id=this.$route.params.id,this.$bus.$emit("isProductInCart",this.product.id),this.$bus.$on("productInCart",(function(n){t.inCartQuantity=n})),this.queryProduct()},mounted:function(){},beforeDestroy:function(){this.$bus.$off("productInCart")},methods:{putToCart:function(){var t=this;this.isLoading=!0;var n=this.inCartQuantity>0?"patch":"post";this.axios[n](this.apiInfo.forCart,{product:this.product.id,quantity:"patch"===n?this.quantity+this.inCartQuantity:this.quantity}).then((function(){t.$bus.$emit("addProductToCart",{id:t.product.id,quantity:t.quantity}),t.inCartQuantity+=t.quantity,t.isLoading=!1})).catch((function(n){t.isLoading=!1,console.log(n)}))},queryProduct:function(){var t=this;this.isLoading=!0,this.axios.get("".concat(this.apiInfo.forProduct,"/").concat(this.product.id)).then((function(n){t.product=n.data.data,t.isLoading=!1})).catch((function(n){t.isLoading=!1,console.log(n)}))}}},s=o,u=e("2877"),c=Object(u["a"])(s,i,a,!1,null,null,null);n["default"]=c.exports},"716b":function(t,n,e){(function(n,e){t.exports=e()})(0,(function(){return function(t){function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p=".",n(n.s=9)}([function(t,n,e){"use strict";n.a={prefix:"",suffix:"",thousands:",",decimal:".",precision:2}},function(t,n,e){"use strict";var i=e(2),a=e(5),r=e(0);n.a=function(t,n){if(n.value){var o=e.i(a.a)(r.a,n.value);if("INPUT"!==t.tagName.toLocaleUpperCase()){var s=t.getElementsByTagName("input");1!==s.length||(t=s[0])}t.oninput=function(){var n=t.value.length-t.selectionEnd;t.value=e.i(i.a)(t.value,o),n=Math.max(n,o.suffix.length),n=t.value.length-n,n=Math.max(n,o.prefix.length+1),e.i(i.b)(t,n),t.dispatchEvent(e.i(i.c)("change"))},t.onfocus=function(){e.i(i.b)(t,t.value.length-o.suffix.length)},t.oninput(),t.dispatchEvent(e.i(i.c)("input"))}}},function(t,n,e){"use strict";function i(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a;"number"==typeof t&&(t=t.toFixed(o(n.precision)));var e=t.indexOf("-")>=0?"-":"",i=r(t),a=u(i,n.precision),s=l(a).split("."),f=s[0],p=s[1];return f=c(f,n.thousands),n.prefix+e+d(f,p,n.decimal)+n.suffix}function a(t,n){var e=t.indexOf("-")>=0?-1:1,i=r(t),a=u(i,n);return parseFloat(a)*e}function r(t){return l(t).replace(/\D+/g,"")||"0"}function o(t){return s(0,t,20)}function s(t,n,e){return Math.max(t,Math.min(n,e))}function u(t,n){var e=Math.pow(10,n);return(parseFloat(t)/e).toFixed(o(n))}function c(t,n){return t.replace(/(\d)(?=(?:\d{3})+\b)/gm,"$1"+n)}function d(t,n,e){return n?t+e+n:t}function l(t){return t?t.toString():""}function f(t,n){var e=function(){t.setSelectionRange(n,n)};t===document.activeElement&&(e(),setTimeout(e,1))}function p(t){var n=document.createEvent("Event");return n.initEvent(t,!0,!0),n}var m=e(0);e.d(n,"a",(function(){return i})),e.d(n,"d",(function(){return a})),e.d(n,"b",(function(){return f})),e.d(n,"c",(function(){return p}))},function(t,n,e){"use strict";function i(t,n){n&&Object.keys(n).map((function(t){s.a[t]=n[t]})),t.directive("money",o.a),t.component("money",r.a)}Object.defineProperty(n,"__esModule",{value:!0});var a=e(6),r=e.n(a),o=e(1),s=e(0);e.d(n,"Money",(function(){return r.a})),e.d(n,"VMoney",(function(){return o.a})),e.d(n,"options",(function(){return s.a})),e.d(n,"VERSION",(function(){return u}));var u="0.8.1";n.default=i,"undefined"!=typeof window&&window.Vue&&window.Vue.use(i)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(1),a=e(0),r=e(2);n.default={name:"Money",props:{value:{required:!0,type:[Number,String],default:0},masked:{type:Boolean,default:!1},precision:{type:Number,default:function(){return a.a.precision}},decimal:{type:String,default:function(){return a.a.decimal}},thousands:{type:String,default:function(){return a.a.thousands}},prefix:{type:String,default:function(){return a.a.prefix}},suffix:{type:String,default:function(){return a.a.suffix}}},directives:{money:i.a},data:function(){return{formattedValue:""}},watch:{value:{immediate:!0,handler:function(t,n){var i=e.i(r.a)(t,this.$props);i!==this.formattedValue&&(this.formattedValue=i)}}},methods:{change:function(t){this.$emit("input",this.masked?t.target.value:e.i(r.d)(t.target.value,this.precision))}}}},function(t,n,e){"use strict";n.a=function(t,n){return t=t||{},n=n||{},Object.keys(t).concat(Object.keys(n)).reduce((function(e,i){return e[i]=void 0===n[i]?t[i]:n[i],e}),{})}},function(t,n,e){var i=e(7)(e(4),e(8),null,null);t.exports=i.exports},function(t,n){t.exports=function(t,n,e,i){var a,r=t=t||{},o=typeof t.default;"object"!==o&&"function"!==o||(a=t,r=t.default);var s="function"==typeof r?r.options:r;if(n&&(s.render=n.render,s.staticRenderFns=n.staticRenderFns),e&&(s._scopeId=e),i){var u=s.computed||(s.computed={});Object.keys(i).forEach((function(t){var n=i[t];u[t]=function(){return n}}))}return{esModule:a,exports:r,options:s}}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement;return(t._self._c||n)("input",{directives:[{name:"money",rawName:"v-money",value:{precision:t.precision,decimal:t.decimal,thousands:t.thousands,prefix:t.prefix,suffix:t.suffix},expression:"{precision, decimal, thousands, prefix, suffix}"}],staticClass:"v-money",attrs:{type:"tel"},domProps:{value:t.formattedValue},on:{change:t.change}})},staticRenderFns:[]}},function(t,n,e){t.exports=e(3)}])}))}}]);
//# sourceMappingURL=chunk-9b3e3fd2.e0a7a7d4.js.map