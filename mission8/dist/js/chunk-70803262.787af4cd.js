(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70803262"],{"057f":function(t,r,i){var n=i("fc6a"),o=i("241c").f,e={}.toString,c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return o(t)}catch(r){return c.slice()}};t.exports.f=function(t){return c&&"[object Window]"==e.call(t)?a(t):o(n(t))}},"13d5":function(t,r,i){"use strict";var n=i("23e7"),o=i("d58f").left,e=i("a640"),c=i("ae40"),a=e("reduce"),s=c("reduce",{1:0});n({target:"Array",proto:!0,forced:!a||!s},{reduce:function(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"315a":function(t,r,i){"use strict";var n=i("cc25"),o=i.n(n);o.a},"347e":function(t,r,i){"use strict";i.r(r);var n=function(){var t=this,r=t.$createElement,i=t._self._c||r;return i("div",[i("loading",{attrs:{active:t.isLoading,"is-full-page":t.isFullPageLoading},on:{"update:active":function(r){t.isLoading=r}}}),t._m(0),i("div",{staticClass:"container mt-md-5 mt-3 mb-7"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-4"},[i("div",{staticClass:"list-group list-group-flush"},[i("button",{staticClass:"list-group-item list-group-item-action border-top",class:{active:"*"===t.currGroup},attrs:{type:"button"},on:{click:function(r){return t.switchGroup("*")}}},[t._v(" 所有產品 ")]),t._l(Object.keys(t.groupedProducts),(function(r,n){return i("button",{key:r,staticClass:"list-group-item list-group-item-action",class:t.listGroupStyles(n),attrs:{type:"button"},on:{click:function(r){return t.switchGroup(n)}}},[t._v(" "+t._s(r)+" ")])}))],2)]),i("div",{staticClass:"col-md-8"},[i("div",{staticClass:"row"},t._l(t.filteredProducts,(function(r){return i("div",{key:r.id,staticClass:"col-md-6"},[i("product",{attrs:{product:r,"in-cart":t.isInCart(r)},on:{"put-to-cart":t.putToCart}})],1)})),0)])])])],1)},o=[function(){var t=this,r=t.$createElement,i=t._self._c||r;return i("div",{staticClass:"position-relative d-flex align-items-center justify-content-center",staticStyle:{"min-height":"400px"}},[i("div",{staticClass:"position-absolute jumbotron-img"}),i("h2",{staticClass:"font-weight-bold"},[t._v("精選產品")])])}],e=(i("99af"),i("caad"),i("d81d"),i("b64b"),i("d3b7"),i("2532"),i("3ca3"),i("ddb0"),function(){var t=this,r=t.$createElement,i=t._self._c||r;return i("div",{staticClass:"card border-0 mb-4 position-relative position-relative"},[i("div",{staticClass:"responsive-rectangle"},[i("img",{staticClass:"card-img-top rounded-0",attrs:{src:t.product.imageUrl[0],alt:"..."}})]),t._m(0),i("div",{staticClass:"card-body p-0"},[i("h4",{staticClass:"mb-0 mt-3"},[i("router-link",{attrs:{to:"/product/"+t.product.id}},[t._v(" "+t._s(t.product.title)+" ")])],1),i("p",{staticClass:"card-text mb-0"},[t._v(" "+t._s(t._f("formatCurrency")(t.product.price))+" ")]),i("p",{staticClass:"text-muted mt-3"})])])}),c=[function(){var t=this,r=t.$createElement,i=t._self._c||r;return i("a",{staticClass:"text-dark",attrs:{href:"#"}},[i("i",{staticClass:"far fa-heart position-absolute",staticStyle:{right:"16px",top:"16px"}})])}],a=(i("a4d3"),i("e01a"),{props:["product","inCart"],data:function(){return{apiInfo:{forCart:"/ec/shopping",forProduct:"/ec/product"},isLoading:!1}},computed:{},watch:{$route:function(t){t.params.id===this.product.id&&this.updateThisProduct()}},methods:{putToCart:function(t){var r=this;this.isLoading=!0,this.axios.post(this.apiInfo.forCart,{product:t.id,quantity:1}).then((function(){r.$emit("put-to-cart",t.id),r.isLoading=!1})).catch((function(t){r.isLoading=!1,console.log(t)}))},routeToThisProduct:function(t){this.$router.push("/product/".concat(t.id))},updateThisProduct:function(){var t=this;this.isLoading=!0,this.axios.get("".concat(this.apiInfo.forProduct,"/").concat(this.product.id)).then((function(r){t.product.description=r.data.data.description,t.isLoading=!1})).catch((function(r){t.isLoading=!1,console.log(r)}))}}}),s=a,u=(i("cf45"),i("2877")),f=Object(u["a"])(s,e,c,!1,null,"14ed7326",null),d=f.exports;i("13d5");function l(t,r){return t.reduce((function(t,i){var n=i[r];if(!t[n]){var o={};o[n]=[],Object.assign(t,o)}return t[n].push(i),t}),{})}var p=l,h={components:{Product:d},data:function(){return{apiInfo:{forCart:"/ec/shopping",forProducts:"/ec/products"},productIdsInCart:[],products:[],currGroup:"*",isLoading:!1,isFullPageLoading:!0,pagination:{}}},computed:{isInCart:function(){var t=this;return function(r){return t.productIdsInCart.includes(r.id)}},groupedProducts:function(){return p(this.products,"category")},filteredProducts:function(){return"*"===this.currGroup?this.products:this.groupedProducts[Object.keys(this.groupedProducts)[this.currGroup]]},listGroupStyles:function(){var t=this;return function(r){return{active:r===t.currGroup,"border-bottom":r===Object.keys(t.groupedProducts).length-1}}}},mounted:function(){var t=this;this.isLoading=!0,Promise.all([this.getProductIdsInCart(),this.getProducts()]).then((function(r){t.setProductIdsInCart(r[0]),t.setProducts(r[1]),t.isLoading=!1})).catch((function(r){t.isLoading=!1,console.log(r)}))},methods:{switchGroup:function(t){this.currGroup=t},givePage:function(t){return t||(this.pagination.current_page||1)},getProductIdsInCart:function(t){return this.axios.get("".concat(this.apiInfo.forCart,"?page=").concat(this.givePage(t)))},setProductIdsInCart:function(t){this.productIdsInCart=t.data.data.map((function(t){return t.product.id}))},getProducts:function(t){return this.axios.get("".concat(this.apiInfo.forProducts,"?page=").concat(this.givePage(t)))},setProducts:function(t){this.products=t.data.data,this.pagination=t.data.meta.pagination},putToCart:function(t){this.productIdsInCart.push(t)}}},g=h,v=(i("315a"),Object(u["a"])(g,n,o,!1,null,"3e667bc1",null));r["default"]=v.exports},"3ca3":function(t,r,i){"use strict";var n=i("6547").charAt,o=i("69f3"),e=i("7dd0"),c="String Iterator",a=o.set,s=o.getterFor(c);e(String,"String",(function(t){a(this,{type:c,string:String(t),index:0})}),(function(){var t,r=s(this),i=r.string,o=r.index;return o>=i.length?{value:void 0,done:!0}:(t=n(i,o),r.index+=t.length,{value:t,done:!1})}))},5382:function(t,r,i){},"746f":function(t,r,i){var n=i("428f"),o=i("5135"),e=i("e538"),c=i("9bf2").f;t.exports=function(t){var r=n.Symbol||(n.Symbol={});o(r,t)||c(r,t,{value:e.f(t)})}},a4d3:function(t,r,i){"use strict";var n=i("23e7"),o=i("da84"),e=i("d066"),c=i("c430"),a=i("83ab"),s=i("4930"),u=i("fdbf"),f=i("d039"),d=i("5135"),l=i("e8b5"),p=i("861d"),h=i("825a"),g=i("7b0b"),v=i("fc6a"),b=i("c04e"),m=i("5c6c"),y=i("7c73"),C=i("df75"),P=i("241c"),w=i("057f"),S=i("7418"),I=i("06cf"),O=i("9bf2"),_=i("d1e7"),j=i("9112"),x=i("6eeb"),k=i("5692"),L=i("f772"),G=i("d012"),T=i("90e3"),E=i("b622"),$=i("e538"),F=i("746f"),N=i("d44e"),J=i("69f3"),A=i("b727").forEach,q=L("hidden"),D="Symbol",Q="prototype",R=E("toPrimitive"),U=J.set,W=J.getterFor(D),z=Object[Q],B=o.Symbol,H=e("JSON","stringify"),K=I.f,M=O.f,V=w.f,X=_.f,Y=k("symbols"),Z=k("op-symbols"),tt=k("string-to-symbol-registry"),rt=k("symbol-to-string-registry"),it=k("wks"),nt=o.QObject,ot=!nt||!nt[Q]||!nt[Q].findChild,et=a&&f((function(){return 7!=y(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(t,r,i){var n=K(z,r);n&&delete z[r],M(t,r,i),n&&t!==z&&M(z,r,n)}:M,ct=function(t,r){var i=Y[t]=y(B[Q]);return U(i,{type:D,tag:t,description:r}),a||(i.description=r),i},at=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof B},st=function(t,r,i){t===z&&st(Z,r,i),h(t);var n=b(r,!0);return h(i),d(Y,n)?(i.enumerable?(d(t,q)&&t[q][n]&&(t[q][n]=!1),i=y(i,{enumerable:m(0,!1)})):(d(t,q)||M(t,q,m(1,{})),t[q][n]=!0),et(t,n,i)):M(t,n,i)},ut=function(t,r){h(t);var i=v(r),n=C(i).concat(ht(i));return A(n,(function(r){a&&!dt.call(i,r)||st(t,r,i[r])})),t},ft=function(t,r){return void 0===r?y(t):ut(y(t),r)},dt=function(t){var r=b(t,!0),i=X.call(this,r);return!(this===z&&d(Y,r)&&!d(Z,r))&&(!(i||!d(this,r)||!d(Y,r)||d(this,q)&&this[q][r])||i)},lt=function(t,r){var i=v(t),n=b(r,!0);if(i!==z||!d(Y,n)||d(Z,n)){var o=K(i,n);return!o||!d(Y,n)||d(i,q)&&i[q][n]||(o.enumerable=!0),o}},pt=function(t){var r=V(v(t)),i=[];return A(r,(function(t){d(Y,t)||d(G,t)||i.push(t)})),i},ht=function(t){var r=t===z,i=V(r?Z:v(t)),n=[];return A(i,(function(t){!d(Y,t)||r&&!d(z,t)||n.push(Y[t])})),n};if(s||(B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,r=T(t),i=function(t){this===z&&i.call(Z,t),d(this,q)&&d(this[q],r)&&(this[q][r]=!1),et(this,r,m(1,t))};return a&&ot&&et(z,r,{configurable:!0,set:i}),ct(r,t)},x(B[Q],"toString",(function(){return W(this).tag})),x(B,"withoutSetter",(function(t){return ct(T(t),t)})),_.f=dt,O.f=st,I.f=lt,P.f=w.f=pt,S.f=ht,$.f=function(t){return ct(E(t),t)},a&&(M(B[Q],"description",{configurable:!0,get:function(){return W(this).description}}),c||x(z,"propertyIsEnumerable",dt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:B}),A(C(it),(function(t){F(t)})),n({target:D,stat:!0,forced:!s},{for:function(t){var r=String(t);if(d(tt,r))return tt[r];var i=B(r);return tt[r]=i,rt[i]=r,i},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(d(rt,t))return rt[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),n({target:"Object",stat:!0,forced:!s,sham:!a},{create:ft,defineProperty:st,defineProperties:ut,getOwnPropertyDescriptor:lt}),n({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:pt,getOwnPropertySymbols:ht}),n({target:"Object",stat:!0,forced:f((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(g(t))}}),H){var gt=!s||f((function(){var t=B();return"[null]"!=H([t])||"{}"!=H({a:t})||"{}"!=H(Object(t))}));n({target:"JSON",stat:!0,forced:gt},{stringify:function(t,r,i){var n,o=[t],e=1;while(arguments.length>e)o.push(arguments[e++]);if(n=r,(p(r)||void 0!==t)&&!at(t))return l(r)||(r=function(t,r){if("function"==typeof n&&(r=n.call(this,t,r)),!at(r))return r}),o[1]=r,H.apply(null,o)}})}B[Q][R]||j(B[Q],R,B[Q].valueOf),N(B,D),G[q]=!0},cc25:function(t,r,i){},cf45:function(t,r,i){"use strict";var n=i("5382"),o=i.n(n);o.a},d58f:function(t,r,i){var n=i("1c0b"),o=i("7b0b"),e=i("44ad"),c=i("50c4"),a=function(t){return function(r,i,a,s){n(i);var u=o(r),f=e(u),d=c(u.length),l=t?d-1:0,p=t?-1:1;if(a<2)while(1){if(l in f){s=f[l],l+=p;break}if(l+=p,t?l<0:d<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:d>l;l+=p)l in f&&(s=i(s,f[l],l,u));return s}};t.exports={left:a(!1),right:a(!0)}},ddb0:function(t,r,i){var n=i("da84"),o=i("fdbc"),e=i("e260"),c=i("9112"),a=i("b622"),s=a("iterator"),u=a("toStringTag"),f=e.values;for(var d in o){var l=n[d],p=l&&l.prototype;if(p){if(p[s]!==f)try{c(p,s,f)}catch(g){p[s]=f}if(p[u]||c(p,u,d),o[d])for(var h in e)if(p[h]!==e[h])try{c(p,h,e[h])}catch(g){p[h]=e[h]}}}},e01a:function(t,r,i){"use strict";var n=i("23e7"),o=i("83ab"),e=i("da84"),c=i("5135"),a=i("861d"),s=i("9bf2").f,u=i("e893"),f=e.Symbol;if(o&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var d={},l=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),r=this instanceof l?new f(t):void 0===t?f():f(t);return""===t&&(d[r]=!0),r};u(l,f);var p=l.prototype=f.prototype;p.constructor=l;var h=p.toString,g="Symbol(test)"==String(f("test")),v=/^Symbol\((.*)\)[^)]+$/;s(p,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,r=h.call(t);if(c(d,t))return"";var i=g?r.slice(7,-1):r.replace(v,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:l})}},e538:function(t,r,i){var n=i("b622");r.f=n}}]);
//# sourceMappingURL=chunk-70803262.787af4cd.js.map