{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/views/attraction/Cart.vue?6ed3","webpack:///src/views/attraction/Cart.vue","webpack:///./src/views/attraction/Cart.vue?9ccf","webpack:///./src/views/attraction/Cart.vue","webpack:///./node_modules/core-js/internals/array-reduce.js"],"names":["$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","1","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","isLoading","isFullPageLoading","on","$event","_v","_m","_l","item","index","key","product","id","class","staticStyle","imageUrl","_s","title","minusItemQuantity","directives","name","rawName","value","expression","domProps","composing","$set","addItemQuantity","_f","price","deleteItem","priceSummary","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","payment","multiple","updatePayment","staticRenderFns","data","apiInfo","forCart","cart","pagination","paymentMethods","payemntExpired","computed","created","mounted","getCart","methods","givePage","page","current_page","axios","get","console","log","err","quantity","editItemQuantity","patch","delete","setLoading","document","cookie","component","aFunction","toObject","IndexedObject","toLength","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","i","TypeError","module","exports","right"],"mappings":"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","file":"js/chunk-fda74d5a.cfdc9dec.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"cart\"}},[_c('loading',{attrs:{\"active\":_vm.isLoading,\"is-full-page\":_vm.isFullPageLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"container mb-5\"},[_c('div',{staticClass:\"mt-3\"},[_c('h3',{staticClass:\"mt-3 mb-4\"},[_vm._v(\"購物清單\")]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-8\"},[_c('table',{staticClass:\"table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.cart),function(item,index){return _c('tr',{key:item.product.id,staticClass:\"border-bottom\",class:{ 'border-top': index === 0 }},[_c('th',{staticClass:\"border-0 px-0 font-weight-normal py-4\",attrs:{\"scope\":\"row\"}},[_c('img',{staticStyle:{\"width\":\"72px\",\"height\":\"72px\",\"object-fit\":\"cover\"},attrs:{\"src\":item.product.imageUrl[0],\"alt\":\"\"}}),_c('p',{staticClass:\"mb-0 font-weight-bold ml-3 d-inline-block\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \")])]),_c('td',{staticClass:\"border-0 align-middle\",staticStyle:{\"max-width\":\"160px\"}},[_c('div',{staticClass:\"input-group pr-5\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-outline-dark border-0 py-2\",attrs:{\"type\":\"button\",\"id\":\"button-addon1\"},on:{\"click\":function($event){return _vm.minusItemQuantity(item)}}},[_c('i',{staticClass:\"fas fa-minus\"})])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.quantity),expression:\"item.quantity\"}],staticClass:\"form-control border-0 text-center my-auto shadow-none bg-white\",attrs:{\"type\":\"text\",\"placeholder\":\"\",\"aria-label\":\"Example text with button addon\",\"aria-describedby\":\"button-addon1\",\"readonly\":\"\"},domProps:{\"value\":(item.quantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"quantity\", $event.target.value)}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-dark border-0 py-2\",attrs:{\"type\":\"button\",\"id\":\"button-addon2\"},on:{\"click\":function($event){return _vm.addItemQuantity(item)}}},[_c('i',{staticClass:\"fas fa-plus\"})])])])]),_c('td',{staticClass:\"border-0 align-middle\"},[_c('p',{staticClass:\"mb-0 ml-auto\"},[_vm._v(\" \"+_vm._s(_vm._f(\"formatCurrency\")(item.product.price))+\" \")])]),_c('td',{staticClass:\"border-0 align-middle\"},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_c('i',{staticClass:\"fas fa-times\"})])])])}),0)]),_vm._m(1)]),_c('div',{staticClass:\"col-md-4\"},[_c('div',{staticClass:\"border p-4 mb-4\"},[_c('h4',{staticClass:\"font-weight-bold mb-4\"},[_vm._v(\"訂單試算\")]),_c('table',{staticClass:\"table text-muted border-bottom\"},[_c('tbody',[_c('tr',[_c('th',{staticClass:\"border-0 px-0 pt-4 font-weight-normal\",attrs:{\"scope\":\"row\"}},[_vm._v(\"小計\")]),_c('td',{staticClass:\"text-right border-0 px-0 pt-4\"},[_vm._v(\" \"+_vm._s(_vm._f(\"formatCurrency\")(_vm.priceSummary))+\" \")])]),_c('tr',[_c('th',{staticClass:\"border-0 px-0 pt-0 pb-4 font-weight-normal align-middle\",attrs:{\"scope\":\"row\"}},[_vm._v(\" 付款方式 \")]),_c('td',{staticClass:\"text-right border-0 px-0 pt-0 pb-4\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.payment),expression:\"payment\"}],staticClass:\"text-right form-control rounded-0 my-auto shadow-none bg-white\",attrs:{\"id\":\"payment\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.payment=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.updatePayment]}},_vm._l((_vm.paymentMethods),function(payment){return _c('option',{key:payment,domProps:{\"value\":payment}},[_vm._v(\" \"+_vm._s(payment)+\" \")])}),0)])])])]),_c('div',{staticClass:\"d-flex justify-content-between mt-4\"},[_c('p',{staticClass:\"mb-0 h4 font-weight-bold\"},[_vm._v(\"總計\")]),_c('p',{staticClass:\"mb-0 h4 font-weight-bold\"},[_vm._v(_vm._s(_vm._f(\"formatCurrency\")(_vm.priceSummary)))])]),_c('router-link',{staticClass:\"btn btn-dark btn-block mt-4\",attrs:{\"to\":\"/checkOut\"}},[_vm._v(\"訂單確定\")])],1)])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"border-0 pl-0\",attrs:{\"scope\":\"col\"}},[_vm._v(\"產品\")]),_c('th',{staticClass:\"border-0\",attrs:{\"scope\":\"col\"}},[_vm._v(\"數量\")]),_c('th',{staticClass:\"border-0\",attrs:{\"scope\":\"col\"}},[_vm._v(\"單價\")]),_c('th',{staticClass:\"border-0\",attrs:{\"scope\":\"col\"}})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group w-50\"},[_c('input',{staticClass:\"form-control rounded-0\\n                border-bottom border-top-0 border-left-0 border-right-0 shadow-none\",attrs:{\"type\":\"text\",\"placeholder\":\"折扣代碼\",\"aria-label\":\"Recipient's username\",\"aria-describedby\":\"button-addon2\"}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-dark\\n                  border-bottom border-top-0 border-left-0 border-right-0 rounded-0\",attrs:{\"type\":\"button\",\"id\":\"button-addon2\"}},[_c('i',{staticClass:\"fas fa-paper-plane\"})])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"cart\" class=\"container\">\n    <loading :active.sync=\"isLoading\" :is-full-page=\"isFullPageLoading\"></loading>\n    <div class=\"container mb-5\">\n      <div class=\"mt-3\">\n        <h3 class=\"mt-3 mb-4\">購物清單</h3>\n        <div class=\"row\">\n          <div class=\"col-md-8\">\n            <table class=\"table\">\n              <thead>\n                <tr>\n                  <th scope=\"col\" class=\"border-0 pl-0\">產品</th>\n                  <th scope=\"col\" class=\"border-0\">數量</th>\n                  <th scope=\"col\" class=\"border-0\">單價</th>\n                  <th scope=\"col\" class=\"border-0\"></th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr class=\"border-bottom\"\n                  :class=\"{ 'border-top': index === 0 }\"\n                  v-for=\"(item, index) in cart\"\n                  :key=\"item.product.id\"\n                >\n                  <th scope=\"row\" class=\"border-0 px-0 font-weight-normal py-4\">\n                    <img :src=\"item.product.imageUrl[0]\"\n                      alt=\"\"\n                      style=\"width: 72px; height: 72px; object-fit: cover;\"\n                    >\n                    <p class=\"mb-0 font-weight-bold ml-3 d-inline-block\">\n                      {{ item.product.title }}\n                    </p>\n                  </th>\n                  <td class=\"border-0 align-middle\" style=\"max-width: 160px;\">\n                    <div class=\"input-group pr-5\">\n                      <div class=\"input-group-prepend\">\n                        <button class=\"btn btn-outline-dark border-0 py-2\"\n                          type=\"button\"\n                          id=\"button-addon1\"\n                          @click=\"minusItemQuantity(item)\"\n                        >\n                          <i class=\"fas fa-minus\"></i>\n                        </button>\n                      </div>\n                      <input type=\"text\"\n                        class=\"form-control border-0 text-center my-auto shadow-none bg-white\"\n                        placeholder=\"\"\n                        aria-label=\"Example text with button addon\"\n                        aria-describedby=\"button-addon1\"\n                        v-model=\"item.quantity\"\n                        readonly\n                      >\n                      <div class=\"input-group-append\">\n                        <button class=\"btn btn-outline-dark border-0 py-2\"\n                          type=\"button\"\n                          id=\"button-addon2\"\n                          @click=\"addItemQuantity(item)\"\n                        >\n                          <i class=\"fas fa-plus\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  </td>\n                  <td class=\"border-0 align-middle\">\n                    <p class=\"mb-0 ml-auto\">\n                      {{ item.product.price | formatCurrency }}\n                    </p>\n                  </td>\n                  <td class=\"border-0 align-middle\">\n                    <a href=\"#\" @click=\"deleteItem(item)\">\n                      <i class=\"fas fa-times\"></i>\n                    </a>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <div class=\"input-group w-50\">\n              <input type=\"text\"\n                class=\"form-control rounded-0\n                  border-bottom border-top-0 border-left-0 border-right-0 shadow-none\"\n                placeholder=\"折扣代碼\"\n                aria-label=\"Recipient's username\"\n                aria-describedby=\"button-addon2\"\n              >\n              <div class=\"input-group-append\">\n                <button\n                  class=\"btn btn-outline-dark\n                    border-bottom border-top-0 border-left-0 border-right-0 rounded-0\"\n                  type=\"button\"\n                  id=\"button-addon2\"\n                >\n                  <i class=\"fas fa-paper-plane\"></i>\n                </button>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-md-4\">\n            <div class=\"border p-4 mb-4\">\n              <h4 class=\"font-weight-bold mb-4\">訂單試算</h4>\n              <table class=\"table text-muted border-bottom\">\n                <tbody>\n                  <tr>\n                    <th scope=\"row\" class=\"border-0 px-0 pt-4 font-weight-normal\">小計</th>\n                    <td class=\"text-right border-0 px-0 pt-4\">\n                      {{ priceSummary | formatCurrency }}\n                    </td>\n                  </tr>\n                  <tr>\n                    <th scope=\"row\" class=\"border-0 px-0 pt-0 pb-4 font-weight-normal align-middle\">\n                      付款方式\n                    </th>\n                    <td class=\"text-right border-0 px-0 pt-0 pb-4\">\n                      <select id=\"payment\"\n                        v-model=\"payment\"\n                        class=\"text-right form-control rounded-0 my-auto shadow-none bg-white\"\n                        @change=\"updatePayment\"\n                      >\n                        <option v-for=\"payment in paymentMethods\"\n                          :key=\"payment\"\n                          :value=\"payment\"\n                        >\n                          {{ payment }}\n                        </option>\n                      </select>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <div class=\"d-flex justify-content-between mt-4\">\n                <p class=\"mb-0 h4 font-weight-bold\">總計</p>\n                <p class=\"mb-0 h4 font-weight-bold\">{{ priceSummary | formatCurrency }}</p>\n              </div>\n              <router-link to=\"/checkOut\" class=\"btn btn-dark btn-block mt-4\">訂單確定</router-link>\n            </div>\n          </div>\n        </div>\n        <!-- <div class=\"my-5\">\n          <h3 class=\"font-weight-bold\">Lorem ipsum dolor sit amet</h3>\n          <div class=\"swiper-container mt-4 mb-5\">\n            <div class=\"swiper-wrapper\">\n              <div class=\"swiper-slide\">\n                <div class=\"card border-0 mb-4 position-relative position-relative\">\n                  <img src=\"https://images.unsplash.com/photo-1490312278390-ab64016e0aa9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\" class=\"card-img-top rounded-0\" alt=\"...\">\n                  <a href=\"#\" class=\"text-dark\">\n                  </a>\n                  <div class=\"card-body p-0\">\n                    <h4 class=\"mb-0 mt-3\"><a href=\"#\">Lorem ipsum</a></h4>\n                    <p class=\"card-text mb-0\">\n                      NT$1,080 <span class=\"text-muted \"><del>NT$1,200</del></span>\n                    </p>\n                    <p class=\"text-muted mt-3\"></p>\n                  </div>\n                </div>\n              </div>\n              <div class=\"swiper-slide\">\n                <div class=\"card border-0 mb-4 position-relative position-relative\">\n                  <img src=\"https://images.unsplash.com/photo-1490312278390-ab64016e0aa9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\" class=\"card-img-top rounded-0\" alt=\"...\">\n                  <a href=\"#\" class=\"text-dark\">\n                  </a>\n                  <div class=\"card-body p-0\">\n                    <h4 class=\"mb-0 mt-3\"><a href=\"#\">Lorem ipsum</a></h4>\n                    <p class=\"card-text mb-0\">\n                      NT$1,080 <span class=\"text-muted \"><del>NT$1,200</del></span>\n                    </p>\n                    <p class=\"text-muted mt-3\"></p>\n                  </div>\n                </div>\n              </div>\n              <div class=\"swiper-slide\">\n                <div class=\"card border-0 mb-4 position-relative position-relative\">\n                  <img src=\"https://images.unsplash.com/photo-1490312278390-ab64016e0aa9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\" class=\"card-img-top rounded-0\" alt=\"...\">\n                  <a href=\"#\" class=\"text-dark\">\n                  </a>\n                  <div class=\"card-body p-0\">\n                    <h4 class=\"mb-0 mt-3\"><a href=\"#\">Lorem ipsum</a></h4>\n                    <p class=\"card-text mb-0\">\n                      NT$1,080 <span class=\"text-muted \"><del>NT$1,200</del></span>\n                    </p>\n                    <p class=\"text-muted mt-3\"></p>\n                  </div>\n                </div>\n              </div>\n              <div class=\"swiper-slide\">\n                <div class=\"card border-0 mb-4 position-relative position-relative\">\n                  <img src=\"https://images.unsplash.com/photo-1490312278390-ab64016e0aa9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\" class=\"card-img-top rounded-0\" alt=\"...\">\n                  <a href=\"#\" class=\"text-dark\">\n                  </a>\n                  <div class=\"card-body p-0\">\n                    <h4 class=\"mb-0 mt-3\"><a href=\"#\">Lorem ipsum</a></h4>\n                    <p class=\"card-text mb-0\">\n                      NT$1,080 <span class=\"text-muted \"><del>NT$1,200</del></span>\n                    </p>\n                    <p class=\"text-muted mt-3\"></p>\n                  </div>\n                </div>\n              </div>\n              <div class=\"swiper-slide\">\n                <div class=\"card border-0 mb-4 position-relative position-relative\">\n                  <img src=\"https://images.unsplash.com/photo-1490312278390-ab64016e0aa9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\" class=\"card-img-top rounded-0\" alt=\"...\">\n                  <a href=\"#\" class=\"text-dark\">\n                  </a>\n                  <div class=\"card-body p-0\">\n                    <h4 class=\"mb-0 mt-3\"><a href=\"#\">Lorem ipsum</a></h4>\n                    <p class=\"card-text mb-0\">\n                      NT$1,080 <span class=\"text-muted \"><del>NT$1,200</del></span>\n                    </p>\n                    <p class=\"text-muted mt-3\"></p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div> -->\n      </div>\n    </div>\n\n    <!-- <div class=\"text-right mt-4\">\n      <button class=\"btn btn-danger\" :disabled=\"cart.length === 0\" @click=\"openDeleteCartModal\">\n        刪除整份購物清單\n      </button>\n    </div>\n    <table class=\"table mt-4\">\n      <thead>\n        <tr>\n          <th class=\"text-center\">產品名稱</th>\n          <th width=\"150\" class=\"text-center\">數量</th>\n          <th width=\"70\" class=\"text-center\">單位</th>\n          <th width=\"100\" class=\"text-center\">售價</th>\n          <th width=\"70\" class=\"text-center\">刪除</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in cart\" :key=\"item.product.id\">\n          <td class=\"text-center align-middle\">{{ item.product.title }}</td>\n          <td class=\"text-center\">\n            <select class=\"form-control\" v-model=\"item.quantity\" @change=\"editItemQuantity(item)\">\n              <option v-for=\"n in 10\" :key=\"'amount' + n\">{{ n }}</option>\n            </select>\n          </td>\n          <td class=\"text-center align-middle\">{{ item.product.unit }}</td>\n          <td class=\"text-right align-middle\">{{ item.product.price | formatCurrency }}</td>\n          <td class=\"text-center align-middle\">\n            <button class=\"btn btn-outline-danger btn-sm\" @click=\"deleteItem(item)\">\n              <i class=\"far fa-trash-alt\"></i>\n            </button>\n          </td>\n        </tr>\n        <tr>\n          <td></td>\n          <td></td>\n          <td class=\"text-right\">總計</td>\n          <td class=\"text-right\" colspan=\"2\">{{ priceSummary | formatCurrency }}</td>\n        </tr>\n      </tbody>\n    </table>\n    <cart-remover ref=\"cartRemover\"\n      @refresh-cart=\"getCart\"\n      @set-loading=\"setLoading\">\n    </cart-remover>\n    <div class=\"row my-4\">\n      <div class=\"col-6\">\n        <router-link to=\"/products\">&#x25C1; 回到產品列表</router-link>\n      </div>\n      <div class=\"col-6 text-right\">\n        <router-link v-if=\"cart.length > 0\" to=\"/checkOut\">前往結帳 &#x25B7;</router-link>\n      </div>\n    </div> -->\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      apiInfo: {\n        forCart: '/ec/shopping',\n      },\n      cart: [],\n      isLoading: false,\n      isFullPageLoading: true,\n      pagination: {},\n      paymentMethods: [\n        'WebATM', 'ATM', 'CVS', 'Barcode', 'Credit', 'ApplePay', 'GooglePay',\n      ],\n      payment: 'Credit',\n      payemntExpired: 30 * 24 * 60 * 60 * 1000,\n    };\n  },\n  computed: {\n    priceSummary() {\n      return this.cart.reduce(\n        (accumulated, currItem) => accumulated + (currItem.product.price * currItem.quantity), 0,\n      );\n    },\n  },\n  created() {\n    const payment = document.cookie.replace(/(?:(?:^|.*;\\s*)hexSchoolPayment\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n    if (payment) {\n      this.payment = payment;\n    }\n  },\n  mounted() {\n    this.getCart();\n  },\n  methods: {\n    givePage(page) {\n      if (page) return page;\n      return this.pagination.current_page || 1;\n    },\n    getCart(page) {\n      this.isLoading = true;\n      this.axios.get(`${this.apiInfo.forCart}?page=${this.givePage(page)}`).then((result) => {\n        this.cart = result.data.data;\n        this.pagination = result.data.meta.pagination;\n        if (this.cart.length === 0) {\n          this.$router.replace('/');\n        }\n        this.isLoading = false;\n      }).catch((err) => {\n        this.isLoading = false;\n        console.log(err);\n      });\n    },\n    addItemQuantity(item) {\n      return item.quantity < 10 && this.editItemQuantity(item, 1);\n    },\n    minusItemQuantity(item) {\n      return item.quantity > 1 && this.editItemQuantity(item, -1);\n    },\n    editItemQuantity(item, quantity) {\n      this.isLoading = true;\n      this.axios.patch(this.apiInfo.forCart, {\n        product: item.product.id,\n        quantity: item.quantity + quantity,\n      }).then(() => {\n        this.$bus.$emit('addProductToCart', { id: item.product.id, quantity });\n        this.isLoading = false;\n        this.getCart();\n      }).catch((err) => {\n        this.isLoading = false;\n        console.log(err);\n      });\n    },\n    deleteItem(item) {\n      this.isLoading = true;\n      this.axios.delete(`${this.apiInfo.forCart}/${item.product.id}`).then(() => {\n        this.isLoading = false;\n        this.$bus.$emit('removeProductFromCart', item.product.id);\n        this.getCart();\n      }).catch((err) => {\n        this.isLoading = false;\n        console.log(err);\n      });\n    },\n    setLoading(isLoading) {\n      this.isLoading = isLoading;\n    },\n    updatePayment() {\n      document.cookie = `hexSchoolPayment=${this.payment};expires=${new Date(Date.now() + this.payemntExpired)}; path=/`;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=341144c4&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n"],"sourceRoot":""}