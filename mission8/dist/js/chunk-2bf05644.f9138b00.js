(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bf05644"],{"206d":function(t,a,o){"use strict";var i=o("4413"),e=o.n(i);e.a},4413:function(t,a,o){},a55b:function(t,a,o){"use strict";o.r(a);var i=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"container mt-4",attrs:{id:"login"}},[o("loading",{attrs:{active:t.isLoading,"is-full-page":t.isFullPageLoading},on:{"update:active":function(a){t.isLoading=a}}}),o("form",{staticClass:"form-sign-in",on:{submit:function(a){return a.preventDefault(),t.signIn(a)}}},[o("h3",{staticClass:"mb-3 font-weight-normal"},[t._v("請先登入")]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"sr-only",attrs:{for:"title"}},[t._v("電子郵件")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"請輸入電子郵件"},domProps:{value:t.formData.email},on:{input:function(a){a.target.composing||t.$set(t.formData,"email",a.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",{staticClass:"sr-only",attrs:{for:"title"}},[t._v("密碼")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"請輸入密碼"},domProps:{value:t.formData.password},on:{input:function(a){a.target.composing||t.$set(t.formData,"password",a.target.value)}}})]),o("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit"}},[t._v(" 登入 ")])])],1)},e=[],n=(o("99af"),o("ac1f"),o("5319"),o("63f5")),s={name:"Login",data:function(){return{apiInfo:{forLogin:"".concat("https://course-ec-api.hexschool.io/api/","auth/login")},formData:{email:"",password:""},isLoading:!1,isFullPageLoading:!0}},mounted:function(){this.checkTokenAndOptionalRedirect()},methods:{checkTokenAndOptionalRedirect:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexSchoolToken\s*=\s*([^;]*).*$)|^.*$/,"$1");t&&this.$router.push("/admin")},signIn:function(){var t=this;this.isLoading=!0,this.axios.post(this.apiInfo.forLogin,this.formData).then((function(a){var o=a.data,i=o.token,e=o.expired;document.cookie="hexSchoolToken=".concat(i,";expires=").concat(new Date(1e3*e),"; path=/"),Object(n["b"])(i),t.$router.push("".concat(t.$route.query.redirect||"/admin")),t.isLoading=!1})).catch((function(a){t.isLoading=!1,console.log(a)}))}}},r=s,c=(o("206d"),o("2877")),l=Object(c["a"])(r,i,e,!1,null,null,null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2bf05644.f9138b00.js.map